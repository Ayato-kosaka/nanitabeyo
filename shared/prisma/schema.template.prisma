/// Prisma クライアントの生成設定
/// @note `multiSchema` 機能を有効化することで、1つのクライアントから複数スキーマへアクセス可能
/// @see https://www.prisma.io/docs/orm/prisma-schema/data-model/multi-schema
generator client {
  provider        = "prisma-client-js"
  output          = "../../shared/dist/prisma"
  previewFeatures = ["multiSchema"]
}

/// データベース接続情報
/// @note `schemas` に対象スキーマを配列で指定（本テンプレートでは動的差し替え用に __SCHEMA__ を使用）
/// @example 本番環境: SCHEMA=public, 開発環境: SCHEMA=dev など環境ごとに切り替え可能
/// @see https://www.prisma.io/docs/orm/prisma-schema/data-model/multi-schema#specifying-multiple-schemas
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  schemas  = ["__SCHEMA__"] // ⬅️ ビルド時にこの値を差し替える運用を想定
}
